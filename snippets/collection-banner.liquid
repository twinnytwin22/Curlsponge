<div class="collection-banner{% if show_image_parallax %} collection-banner--parallax{% endif %}{% if show_bg_overlay %} collection-banner--overlay{% endif %}" {% if show_image_parallax %} style="background-image: url({{ image | img_url: '1920x' }});"{% endif %}>
    {%- if image != blank -%}
        <div class="image image-adapt"
            style="padding-top: {{ 1 | divided_by: image.aspect_ratio | times: 100 | append: '%' }};
                {% if show_bg_overlay %}{% if bg_overlay != 'rgba(0,0,0,0)' and bg_overlay != blank %}
                    --bg-color: {{ bg_overlay | color_modify: 'alpha', 0.3 }};
                {% endif %}{% endif %}"
        >
            <img srcset="{{ image | img_url: '1920x' }} 1x, {{ image | img_url: '1920x', scale: 2 }} 2x" src="{{ image | img_url: '1920x', crop: 'center' }}" alt="{{ image.alt | default: shop.name | escape }}">
        </div>
    {%- else -%}
        <div class="image"
            style="{% if show_bg_overlay %}{% if bg_overlay != 'rgba(0,0,0,0)' and bg_overlay != blank %}
                    --bg-color: {{ bg_overlay | color_modify: 'alpha', 0.3 }};
                {% endif %}{% endif %}" 
        >
            {% capture current %}{% cycle 1, 2 %}{% endcapture %}
            {{ 'lifestyle-' | append: current | placeholder_svg_tag: 'placeholder-svg' }}   
        </div>
    {%- endif -%}
    {%- if image_mobile != blank -%}
        <div class="image image-mobile image-adapt"
            style="padding-top: {{ 1 | divided_by: image_mobile.aspect_ratio | times: 100 | append: '%' }};
                {% if show_bg_overlay %}{% if bg_overlay != 'rgba(0,0,0,0)' and bg_overlay != blank %}
                    --bg-color: {{ bg_overlay | color_modify: 'alpha', 0.3 }};
                {% endif %}{% endif %}"
        >
            <img srcset="{{ image_mobile | img_url: 'master' }} 1x, {{ image_mobile | img_url: 'master', scale: 2 }} 2x" src="{{ image_mobile | img_url: 'master' }}" alt="{{ image_mobile.alt | default: shop.name | escape }}">
        </div>
    {%- else -%}
        {%- if image != blank -%}
            <div class="image image-mobile image-adapt"
                style="padding-top: 100%;
                {% if show_bg_overlay %}{% if bg_overlay != 'rgba(0,0,0,0)' and bg_overlay != blank %}
                    --bg-color: {{ bg_overlay | color_modify: 'alpha', 0.3 }};
                {% endif %}{% endif %}"
            >
                <img srcset="{{ image | img_url: '420x', crop: 'center' }} 1x, {{ image | img_url: '420x', crop: 'center',  scale: 2 }} 2x" src="{{ image | img_url: '420x', crop: 'center' }}" alt="{{ image.alt | default: shop.name | escape }}">
            </div>
        {%- else -%}
            <div class="image image-mobile"
                style="{% if show_bg_overlay %}{% if bg_overlay != 'rgba(0,0,0,0)' and bg_overlay != blank %}
                    --bg-color: {{ bg_overlay | color_modify: 'alpha', 0.3 }};
                {% endif %}{% endif %}"
            >
                {{ 'image' | placeholder_svg_tag: 'placeholder-svg' }}
            </div>
        {%- endif -%}
    {%- endif -%}
</div>